"use strict";var l=document.querySelector(".form-application");if(l){var n=document.querySelector(".popup-success .modal-overlay"),c=document.querySelector(".popup-error .modal-overlay"),i=document.querySelector(".popup-success"),m=document.querySelector(".popup-error"),d=document.querySelector(".popup-success__close"),u=document.querySelector(".popup-error__close");l.addEventListener("submit",function(e){e.preventDefault();var a=document.getElementById("user-surname"),t=document.getElementById("user-name"),s=document.getElementById("user-tel"),o=document.getElementById("user-email"),r=0;v("user-surname")?(a.classList.remove("form-application__field--error"),r++):a.classList.add("form-application__field--error"),v("user-name")?(t.classList.remove("form-application__field--error"),r++):t.classList.add("form-application__field--error"),!function(e){var a=document.getElementById(e).value;if(!a)return!1;return!(""==a||!/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(a))}("user-tel")?s.classList.add("form-application__field--error"):(s.classList.remove("form-application__field--error"),r++),!function(e){var a=document.getElementById(e).value;if(!a)return!1;return!(""==a||!/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/.test(a))}("user-email")?o.classList.add("form-application__field--error"):(o.classList.remove("form-application__field--error"),r++),4===r?(i.classList.add("modal-show"),n.classList.add("modal-overlay--active"),d.focus(),function(e){for(var a=e.getElementsByTagName("input"),t=0;t<a.length;t++)switch(a[t].type){case"text":case"email":case"tel":a[t].value="";break;case"radio":case"checkbox":a[t].checked=!1}var s=e.getElementsByTagName("select");for(t=0;t<s.length;t++)s[t].selectedIndex=0;var o=e.getElementsByTagName("textarea");for(t=0;t<o.length;t++)o[t].value=""}(l)):(m.classList.add("modal-show"),c.classList.add("modal-overlay--active"),u.focus())}),d.addEventListener("click",function(e){e.preventDefault(),i.classList.remove("modal-show"),n.classList.remove("modal-overlay--active")}),n.addEventListener("click",function(e){e.preventDefault(),i.classList.remove("modal-show"),n.classList.remove("modal-overlay--active")}),u.addEventListener("click",function(e){e.preventDefault(),m.classList.remove("modal-show"),c.classList.remove("modal-overlay--active")}),c.addEventListener("click",function(e){e.preventDefault(),m.classList.remove("modal-show"),c.classList.remove("modal-overlay--active")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),i.classList.contains("modal-show")&&(i.classList.remove("modal-show"),n.classList.remove("modal-overlay--active")),m.classList.contains("modal-show")&&(m.classList.remove("modal-show"),c.classList.remove("modal-overlay--active")))})}function v(e){var a=document.getElementById(e).value;if(!a)return!1;return!!(2<a.length&&""!=a&&/^[a-zA-Zа-яА-Я0-9_-\s]+$/.test(a))}var e,a=document.querySelector(".invite__map");if(a){a.classList.remove("invite__map--nojs"),e=new google.maps.Map(document.querySelector(".invite__map-map"),{zoom:7,center:{lat:34.862554,lng:-111.780606}}),new google.maps.Marker({position:{lat:34.862554,lng:-111.780606},map:e,icon:{url:"./img/map-marker.svg",scaledSize:new google.maps.Size(27,27)}})}var t=document.querySelector(".main-nav"),s=document.querySelector(".main-nav__toggle");t&&(t.classList.remove("main-nav--nojs"),s.addEventListener("click",function(){t.classList.contains("main-nav--closed")?(t.classList.remove("main-nav--closed"),t.classList.add("main-nav--opened")):(t.classList.add("main-nav--closed"),t.classList.remove("main-nav--opened"))}));